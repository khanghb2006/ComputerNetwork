<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBK-CNET | Command Center</title>
    
    <!-- 1. Import React & ReactDOM (Core Framework) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 2. Import Babel (Để trình duyệt hiểu code React JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 3. Import Tailwind CSS (Framework giao diện đẹp) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 4. Import FontAwesome (Icon chuyên nghiệp) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom Config cho Tailwind để có màu Hacker -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cyber: {
                            black: '#0a0a0a',
                            dark: '#111827',
                            gray: '#1f2937',
                            blue: '#3b82f6',
                            neon: '#00f3ff',
                            red: '#ef4444'
                        }
                    },
                    fontFamily: {
                        mono: ['"Courier New"', 'Courier', 'monospace'],
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #050505; color: #e5e7eb; }
        .glass-effect {
            background: rgba(31, 41, 55, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .neon-text { text-shadow: 0 0 10px rgba(0, 243, 255, 0.5); }
        .recording-dot { animation: pulse-red 1.5s infinite; }
        @keyframes pulse-red {
            0% { opacity: 1; box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { opacity: 0.5; box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { opacity: 1; box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #00f3ff; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- COMPONENT: Sidebar Item ---
        const SidebarItem = ({ icon, label, active, onClick, danger }) => (
            <div 
                onClick={onClick}
                className={`flex items-center gap-4 px-4 py-3 cursor-pointer transition-all duration-300 border-l-4 ${
                    active 
                    ? 'bg-cyber-gray border-cyber-neon text-cyber-neon' 
                    : 'border-transparent text-gray-500 hover:text-white hover:bg-cyber-gray/50'
                } ${danger ? 'hover:text-red-500 hover:border-red-500' : ''}`}
            >
                <i className={`fa-solid ${icon} w-6 text-center text-lg`}></i>
                <span className="font-bold tracking-wider text-sm uppercase">{label}</span>
            </div>
        );

        // --- MAIN APP ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('app_manager');
            
            // State giả lập cho Module 1: Application
            const [apps, setApps] = useState([
                { id: 1, name: 'Notion.exe', pid: 1024, path: 'C:/Users/Admin/AppData/Notion.exe' },
                { id: 2, name: 'Code.exe', pid: 8821, path: 'C:/Program Files/VSCode/Code.exe' },
                { id: 3, name: 'Chrome.exe', pid: 4412, path: 'C:/Program Files/Google/Chrome.exe' },
            ]);
            const [startPath, setStartPath] = useState('');

            // State giả lập cho Module 3: Recording
            const [isRecording, setIsRecording] = useState(false);
            const [recordTime, setRecordTime] = useState(0);

            // Timer cho Recording
            useEffect(() => {
                let interval;
                if (isRecording) {
                    interval = setInterval(() => setRecordTime(t => t + 1), 1000);
                } else {
                    setRecordTime(0);
                }
                return () => clearInterval(interval);
            }, [isRecording]);

            // Format giây thành MM:SS
            const formatTime = (s) => new Date(s * 1000).toISOString().substr(14, 5);

            // Xử lý nút START APP (Giả)
            const handleStartApp = (e) => {
                e.preventDefault();
                if(!startPath) return;
                const newApp = { 
                    id: Date.now(), 
                    name: startPath.split('\\').pop().split('/').pop(), // Lấy tên file từ path
                    pid: Math.floor(Math.random() * 9000) + 1000, 
                    path: startPath 
                };
                setApps([...apps, newApp]);
                setStartPath('');
                alert(`[DEMO] Sent command: START ${newApp.name}`);
            };

            // Xử lý nút STOP APP (Giả)
            const handleStopApp = (id, name) => {
                if(confirm(`Kill process ${name}?`)) {
                    setApps(apps.filter(app => app.id !== id));
                }
            };

            const handleExportList = () => {
                alert("[DEMO] Command sent: LIST -> export to file.txt");
            }

            // --- RENDER NỘI DUNG CHÍNH ---
            const renderContent = () => {
                switch(activeTab) {
                    case 'app_manager':
                        return (
                            <div className="animate-fade-in">
                                <h2 className="text-3xl font-mono font-bold text-cyber-neon mb-6 border-b border-gray-700 pb-2">
                                    <i className="fa-brands fa-windows mr-3"></i>Application Manager
                                </h2>
                                
                                {/* Control Panel: Start & List */}
                                <div className="glass-effect p-6 rounded-lg mb-6">
                                    <div className="flex gap-4 items-end">
                                        <div className="flex-1">
                                            <label className="block text-xs text-gray-400 mb-1 uppercase font-bold">Start Application (Path)</label>
                                            <div className="flex gap-2">
                                                <input 
                                                    type="text" 
                                                    value={startPath}
                                                    onChange={(e) => setStartPath(e.target.value)}
                                                    className="flex-1 bg-black border border-gray-700 rounded px-4 py-2 text-white focus:border-cyber-neon outline-none font-mono"
                                                    placeholder="C:\Windows\System32\notepad.exe"
                                                />
                                                <button onClick={handleStartApp} className="bg-cyber-blue hover:bg-blue-600 text-white px-6 py-2 rounded font-bold shadow-lg shadow-blue-500/20 transition-all">
                                                    START
                                                </button>
                                            </div>
                                        </div>
                                        <button onClick={handleExportList} className="bg-gray-700 hover:bg-gray-600 border border-gray-500 text-white px-6 py-2 rounded font-bold h-10">
                                            <i className="fa-solid fa-file-export mr-2"></i> LIST TO FILE
                                        </button>
                                    </div>
                                </div>

                                {/* Table List */}
                                <div className="glass-effect rounded-lg overflow-hidden">
                                    <table className="w-full text-left border-collapse">
                                        <thead>
                                            <tr className="bg-cyber-gray/50 text-gray-400 text-xs uppercase">
                                                <th className="p-4">PID</th>
                                                <th className="p-4">Application Name</th>
                                                <th className="p-4">Path</th>
                                                <th className="p-4 text-right">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody className="font-mono text-sm">
                                            {apps.map(app => (
                                                <tr key={app.id} className="border-b border-gray-800 hover:bg-gray-800/50 transition-colors">
                                                    <td className="p-4 text-cyber-neon">{app.pid}</td>
                                                    <td className="p-4 font-bold">{app.name}</td>
                                                    <td className="p-4 text-gray-500 truncate max-w-xs">{app.path}</td>
                                                    <td className="p-4 text-right">
                                                        <button 
                                                            onClick={() => handleStopApp(app.id, app.name)}
                                                            className="text-red-500 hover:text-red-400 hover:bg-red-500/10 px-3 py-1 rounded border border-red-500/30 transition-all"
                                                        >
                                                            STOP
                                                        </button>
                                                    </td>
                                                </tr>
                                            ))}
                                            {apps.length === 0 && (
                                                <tr>
                                                    <td colSpan="4" className="p-8 text-center text-gray-500">No applications running.</td>
                                                </tr>
                                            )}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        );

                    case 'screen_rec':
                        return (
                            <div className="h-full flex flex-col items-center justify-center animate-fade-in">
                                <h2 className="text-3xl font-mono font-bold text-white mb-8">
                                    <i className="fa-solid fa-video mr-3"></i>Screen Recorder
                                </h2>
                                
                                <div className={`relative w-3/4 aspect-video bg-black rounded-xl border-2 ${isRecording ? 'border-red-500 shadow-[0_0_20px_rgba(239,68,68,0.5)]' : 'border-gray-700'} flex items-center justify-center transition-all duration-500`}>
                                    {isRecording ? (
                                        <div className="text-center">
                                            <div className="text-6xl text-red-500 mb-4 animate-bounce"><i className="fa-solid fa-circle-dot"></i></div>
                                            <div className="text-2xl font-mono text-red-500">{formatTime(recordTime)}</div>
                                            <div className="absolute top-4 right-4 flex items-center gap-2">
                                                <div className="w-3 h-3 bg-red-500 rounded-full recording-dot"></div>
                                                <span className="text-red-500 font-bold text-xs">REC</span>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="text-gray-600 flex flex-col items-center">
                                            <i className="fa-solid fa-film text-6xl mb-4"></i>
                                            <p>Ready to capture</p>
                                        </div>
                                    )}
                                </div>

                                <button 
                                    onClick={() => setIsRecording(!isRecording)}
                                    className={`mt-10 px-10 py-4 rounded-full font-bold text-xl tracking-widest transition-all transform hover:scale-105 shadow-xl ${
                                        isRecording 
                                        ? 'bg-transparent border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white' 
                                        : 'bg-cyber-neon text-black hover:bg-white'
                                    }`}
                                >
                                    {isRecording ? 'STOP RECORDING' : 'START RECORDING'}
                                </button>
                                <p className="mt-4 text-gray-500 text-sm font-mono">Module: FFmpeg Integration Ready</p>
                            </div>
                        );

                    default:
                        return (
                            <div className="h-full flex flex-col items-center justify-center text-gray-600">
                                <i className="fa-solid fa-person-digging text-6xl mb-4"></i>
                                <h3 className="text-2xl font-bold">Work In Progress</h3>
                                <p>Module {activeTab} is currently under construction.</p>
                            </div>
                        );
                }
            };

            return (
                <div className="flex h-screen w-full overflow-hidden font-sans selection:bg-cyber-neon selection:text-black">
                    {/* SIDEBAR */}
                    <div className="w-72 bg-black border-r border-gray-800 flex flex-col z-20 shadow-2xl">
                        <div className="p-8">
                            <h1 className="text-3xl font-black italic tracking-tighter text-white">
                                DaKaKa<span className="text-cyber-neon">.CNet</span>
                            </h1>
                            <p className="text-xs text-gray-500 mt-1 font-mono">ADMIN DASHBOARD v1.0</p>
                        </div>
                        
                        <div className="flex-1 overflow-y-auto py-4">
                            <div className="px-4 text-xs font-bold text-gray-600 mb-2 uppercase">Core Modules</div>
                            
                            <SidebarItem icon="fa-window-restore" label="Applications" active={activeTab === 'app_manager'} onClick={() => setActiveTab('app_manager')} />
                            <SidebarItem icon="fa-microchip" label="Processes" active={activeTab === 'process'} onClick={() => setActiveTab('process')} />
                            
                            <div className="px-4 text-xs font-bold text-gray-600 mt-6 mb-2 uppercase">Monitoring</div>
                            <SidebarItem icon="fa-desktop" label="Screen Rec" active={activeTab === 'screen_rec'} onClick={() => setActiveTab('screen_rec')} />
                            <SidebarItem icon="fa-keyboard" label="KeyLogger" active={activeTab === 'keylogger'} onClick={() => setActiveTab('keylogger')} />
                            <SidebarItem icon="fa-eye" label="Webcam" active={activeTab === 'webcam'} onClick={() => setActiveTab('webcam')} />
                            
                            <div className="px-4 text-xs font-bold text-gray-600 mt-6 mb-2 uppercase">System</div>
                            <SidebarItem icon="fa-power-off" label="Power Control" danger active={activeTab === 'power'} onClick={() => setActiveTab('power')} />
                        </div>
                        
                        <div className="p-4 border-t border-gray-800">
                            <div className="bg-cyber-gray/30 rounded p-3 flex items-center gap-3">
                                <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex items-center justify-center font-bold text-xs">A</div>
                                <div>
                                    <div className="text-sm font-bold text-white">Admin</div>
                                    <div className="text-xs text-green-500">● Online</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* MAIN CONTENT */}
                    <div className="flex-1 flex flex-col bg-cyber-dark relative">
                        {/* Background Grid Effect */}
                        <div className="absolute inset-0 opacity-5 pointer-events-none" style={{backgroundImage: 'radial-gradient(#333 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                        
                        <div className="flex-1 p-10 overflow-y-auto z-10">
                            {renderContent()}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>